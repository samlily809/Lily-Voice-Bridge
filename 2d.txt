# light_orbit_simulator.py
# æ¨¡æ“¬å…‰ç²’å­ä»¥ç’°ç¹æ–¹å¼é€²è¡Œæ’æ“Šã€èšç„¦ã€èˆ‡èƒ½é‡é‡çµ„çš„åŸå‹æ¨¡æ“¬å™¨

import math
import matplotlib.pyplot as plt
import numpy as np

# åŸºæœ¬ç‰©ç†å¸¸æ•¸
C = 299_792_458  # å…‰é€Ÿ (m/s)
PI = math.pi

# æ¨¡æ“¬åƒæ•¸è¨­ç½®
NUM_PARTICLES = 36              # æ¨¡æ“¬çš„å…‰ç²’å­æ•¸é‡
ORBIT_RADIUS = 1.0              # ç’°ç¹åŠå¾‘ (ä»»æ„å–®ä½)
PHASE_OFFSET = 2 * PI / NUM_PARTICLES  # æ¯å€‹ç²’å­çš„ç›¸ä½åç§»

# èƒ½é‡ç–ŠåŠ èˆ‡æ“Šç©¿é–¾å€¼
ENERGY_PER_PARTICLE = 1.0       # å‡è¨­æ¯å€‹å…‰ç²’å­å–®ä½èƒ½é‡
CRITICAL_THRESHOLD = 50.0       # æ’æ“Šèƒ½é‡è‡¨ç•Œå€¼ (å‡å®šæ ¸è£‚è®Šé‚Šç•Œ)

# è¨ˆç®—å…‰ç²’å­åº§æ¨™
particle_positions = []
for i in range(NUM_PARTICLES):
    theta = i * PHASE_OFFSET
    x = ORBIT_RADIUS * math.cos(theta)
    y = ORBIT_RADIUS * math.sin(theta)
    particle_positions.append((x, y))

# æ¨¡æ“¬èšç„¦ä¸­å¿ƒèƒ½é‡ï¼ˆå‡è¨­ç‚ºç²’å­å‘ä¸­å¿ƒç™¼æ•£ä¸¦æ’æ“Šï¼‰
focused_energy = NUM_PARTICLES * ENERGY_PER_PARTICLE
status = "âš ï¸ è‡¨ç•Œé‚Šç·£" if focused_energy >= CRITICAL_THRESHOLD else "ğŸŸ¢ å®‰å…¨ç©©å®š"

# å¯è¦–åŒ–
x_vals, y_vals = zip(*particle_positions)
fig, ax = plt.subplots()
ax.scatter(x_vals, y_vals, label="Light Particles")
ax.scatter(0, 0, color="red", label="Collision Core")
ax.set_title(f"Light Orbit Simulator\nèšç„¦èƒ½é‡: {focused_energy:.2f} ({status})")
ax.set_aspect('equal')
ax.legend()
plt.grid(True)
plt.show()

# è¨˜éŒ„è¼¸å‡º
print("=== Light Orbit Summary ===")
print(f"å…‰ç²’å­ç¸½æ•¸: {NUM_PARTICLES}")
print(f"å–®ä½èƒ½é‡: {ENERGY_PER_PARTICLE}")
print(f"èšç„¦ä¸­å¿ƒç¸½èƒ½é‡: {focused_energy}")
print(f"è‡¨ç•Œç‹€æ…‹: {status}")
